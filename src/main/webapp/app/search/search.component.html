<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="search.component.scss" />
  </head>
  <body>
    <div class="container">
      <form role="form" (ngSubmit)="$event.preventDefault(); onSearchSubmit()">
        <input
          type="search"
          class="input-box"
          [(ngModel)]="searchQuery"
          name="searchQuery"
          (keyup)="onSearchSubmit()"
          placeholder="Search user"
        />
      </form>
      <br />
      <br />
      <div *ngIf="arrayBufferData$ | async as arrayBufferData">
        <p class="field">Username</p>
        <p class="field">Routes travelled</p>
        <p class="field">Reviews posted</p>
        <div *ngFor="let item of arrayBufferData">
          <a class="link" routerLink="../app-user/{{ item.id }}/view">
            <p class="field">{{ item.user.login }}</p>
            <p class="field">{{ item.numRoutes }}</p>
            <p class="field">{{ item.numReviews }}</p>
          </a>
        </div>
      </div>
    </div>
  </body>
</html>
